{
  "version": 3,
  "sources": ["../../../server/chat-plugins/user-data.ts"],
  "sourcesContent": ["import {FS} from '../../lib';\r\nimport {UserBadge} from '../badges';\r\nimport {avatars, titles} from './custom';\r\n\r\ninterface UserData {\r\n\tid: string;\r\n\tname: string;\r\n\tgroup: GroupSymbol;\r\n\tbadges: UserBadge[];\r\n\tcustomAvatar?: string;\r\n\tcustomTitle?: string;\r\n}\r\n\r\nfunction getAvatar(name: string) {\r\n\tconst avatarData = avatars[toID(name)];\r\n\tif (!avatarData) return undefined;\r\n\treturn avatarData.avatar;\r\n}\r\n\r\nfunction getTitle(name: string) {\r\n\tconst titleData = titles[toID(name)];\r\n\tif (!titleData) return undefined;\r\n\treturn titleData.title;\r\n}\r\n\r\nasync function getUserData(user: User): Promise<UserData | null> {\r\n\treturn {\r\n\t\tid: user.id,\r\n\t\tname: user.name,\r\n\t\tgroup: user.tempGroup,\r\n\t\tbadges: user.badges || [],\r\n\t\tcustomAvatar: getAvatar(user.name),\r\n\t\tcustomTitle: getTitle(user.name),\r\n\t};\r\n}\r\n\r\nexport const loginfilter: Chat.LoginFilter = (user) => {\r\n\tgetUserData(user)\r\n\t\t.then((userData) => FS(`config/users/${user.id}.json`).writeSync(JSON.stringify(userData)))\r\n\t\t.catch(() => {});\r\n};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB;AAEjB,oBAA8B;AAW9B,SAAS,UAAU,MAAc;AAChC,QAAM,aAAa,sBAAQ,KAAK,IAAI,CAAC;AACrC,MAAI,CAAC;AAAY,WAAO;AACxB,SAAO,WAAW;AACnB;AAEA,SAAS,SAAS,MAAc;AAC/B,QAAM,YAAY,qBAAO,KAAK,IAAI,CAAC;AACnC,MAAI,CAAC;AAAW,WAAO;AACvB,SAAO,UAAU;AAClB;AAEA,eAAe,YAAY,MAAsC;AAChE,SAAO;AAAA,IACN,IAAI,KAAK;AAAA,IACT,MAAM,KAAK;AAAA,IACX,OAAO,KAAK;AAAA,IACZ,QAAQ,KAAK,UAAU,CAAC;AAAA,IACxB,cAAc,UAAU,KAAK,IAAI;AAAA,IACjC,aAAa,SAAS,KAAK,IAAI;AAAA,EAChC;AACD;AAEO,MAAM,cAAgC,CAAC,SAAS;AACtD,cAAY,IAAI,EACd,KAAK,CAAC,iBAAa,eAAG,gBAAgB,KAAK,SAAS,EAAE,UAAU,KAAK,UAAU,QAAQ,CAAC,CAAC,EACzF,MAAM,MAAM;AAAA,EAAC,CAAC;AACjB;",
  "names": []
}
